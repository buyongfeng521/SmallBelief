@model List<Model.t_cart>
@using Model.CommonModel;
@{
    ViewBag.Title = "购物车列表";
    Layout = "~/Views/_Layout.cshtml";
}

<!--head-->
<div class="row">
    <div class="col-lg-12">
        <h3 class="page-header">购物车列表</h3>
    </div>
</div>

<!--content-->
<div class="row">
    <div class="col-lg-12">
        @using (Html.BeginForm("CartList", "Order", FormMethod.Get, new { @class = "form-inline" }))
        {
            <div class="form-group">
                <label class="sr-only">keywords</label>
                <input type="text" class="form-control" id="keywords" name="keywords" placeholder="会员名/手机号" value="@ViewBag.Keywords" maxlength="20">
            </div>
            <button class="btn btn-default">搜索</button>
        }
        <hr />
        <div class="dataTable_wrapper">

            <table class="table table-bordered table-hover">
                <tr>
                    <th>会员</th>
                    <th>会员电话</th>
                    <th>购物类型</th>
                    <th>商品名称</th>
                    <th>商品数量</th>
                    <th>商品数量</th>
                </tr>

                    @foreach (var item in ViewBag.ListUser)
                    {
                        <tr class="warning">
                            <td>@item.user_name</td>
                            <td>@item.user_phone</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        var listSub = Model.Where(u => u.user_id == item.ID).ToList();
                        foreach (var data in listSub)
                        {
                            <tr>
                                <td></td>
                                <td></td>
                                <td>@((Enums.CartType)data.cart_type)</td>
                                <td>@data.goods_name</td>
                                <td>@data.goods_price</td>
                                <td>@data.goods_number</td>
                            </tr>
                        }
                    }
            </table>


        </div>
    </div>
</div>

